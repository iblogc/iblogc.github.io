{"title":"Git常用命令","slug":"git常用命令","date":"2015-09-11T12:05:13.000Z","updated":"2020-08-15T03:06:27.331Z","comments":true,"path":"api/articles/git常用命令.json","excerpt":" [Figure] ","covers":["/media/Git工作流图示.jpg"],"content":"<p><img alt=\"Git工作流图示\" data-src=\"/media/Git工作流图示.jpg\"></p>\n<p>之前写过一篇<a href=\"/2015/01/16/Git命令使用指南/\">Git命令使用指南</a>，但感觉那个写的太乱，不接地气，有时我自己找一个命令都难找，所以今天写一篇文章整理一些比较基础的，但又不常用的一些命令，后面会慢慢更新。<br><a id=\"more\"></a></p>\n<h2 id=\"查看修改\"><a href=\"#查看修改\" class=\"headerlink\" title=\"查看修改\"></a>查看修改</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 查看文件修改/变动情况</span></span><br><span class=\"line\">git status -s</span><br></pre></td></tr></table></figure>\n<h2 id=\"提交\"><a href=\"#提交\" class=\"headerlink\" title=\"提交\"></a>提交</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 把所有已跟踪的文件添加到暂存区</span></span><br><span class=\"line\">git add -u</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 把所有已跟踪并有更新的文件提交到本地仓库</span></span><br><span class=\"line\">git commit -am \"update message\"</span><br></pre></td></tr></table></figure>\n<h2 id=\"列出分支\"><a href=\"#列出分支\" class=\"headerlink\" title=\"列出分支\"></a>列出分支</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 列出本地分支</span><br><span class=\"line\">git branch</span><br><span class=\"line\">或</span><br><span class=\"line\">git branch -v</span><br><span class=\"line\"></span><br><span class=\"line\"># 列出本地和远程所有分支</span><br><span class=\"line\">git branch -a</span><br><span class=\"line\">或</span><br><span class=\"line\">git branch -va</span><br></pre></td></tr></table></figure>\n<h2 id=\"删除分支\"><a href=\"#删除分支\" class=\"headerlink\" title=\"删除分支\"></a>删除分支</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 删除本地分支</span><br><span class=\"line\">git branck -D/-d &lt;branch&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"># 删除远程分支，注意冒号前有空格</span><br><span class=\"line\">git push origin :&lt;分支名&gt;</span><br><span class=\"line\"># 等价于</span><br><span class=\"line\">git push origin -d &lt;branch&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"推送分支\"><a href=\"#推送分支\" class=\"headerlink\" title=\"推送分支\"></a>推送分支</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 推送当前分支到默认remote上，remote上没有对应分支则自动创建</span><br><span class=\"line\">git push</span><br><span class=\"line\"></span><br><span class=\"line\"># 推送当前分支到指定remote，remote上没有对应分支则自动创建</span><br><span class=\"line\">git push &lt;remote&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"># 推送到指定分支到remote的指定分支上</span><br><span class=\"line\">git push &lt;remote&gt; &lt;remote_branch&gt;:&lt;loclal_branch&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"拉取远程分支到本地\"><a href=\"#拉取远程分支到本地\" class=\"headerlink\" title=\"拉取远程分支到本地\"></a>拉取远程分支到本地</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -b &lt;branch&gt; &lt;remote&gt;/&lt;branch&gt;</span><br></pre></td></tr></table></figure>\n<p>或<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout --track &lt;remote&gt;/&lt;branch&gt;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"撤消提交（未push情况下）\"><a href=\"#撤消提交（未push情况下）\" class=\"headerlink\" title=\"撤消提交（未push情况下）\"></a>撤消提交（未<code>push</code>情况下）</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --mixed &lt;SHA1&gt; # 此SHA1之后的commit全部撤消，并回退index，工作空间代码不变，--mixed可省略</span><br><span class=\"line\">git reset --soft &lt;SHA1&gt; # 此SHA1之后的commit全部撤消，工作空间代码和index不变</span><br><span class=\"line\">git reset --hard &lt;SHA1&gt; # 此SHA1之后的commit全部撤消，工作空间代码和index全部退回</span><br></pre></td></tr></table></figure>\n<h2 id=\"查看commit记录\"><a href=\"#查看commit记录\" class=\"headerlink\" title=\"查看commit记录\"></a>查看<code>commit</code>记录</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git log --oneline -n # 单行显示最后n个commit的记录</span><br></pre></td></tr></table></figure>\n<h2 id=\"本地分支和远程分支做关联\"><a href=\"#本地分支和远程分支做关联\" class=\"headerlink\" title=\"本地分支和远程分支做关联\"></a>本地分支和远程分支做关联</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch --set-upstream-to=&lt;remote&gt;/&lt;remote_branch&gt; &lt;loclal_branch&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"推送本地当前新分支到远程\"><a href=\"#推送本地当前新分支到远程\" class=\"headerlink\" title=\"推送本地当前新分支到远程\"></a>推送本地当前新分支到远程</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push -u origin &lt;branch_name&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"查看日志\"><a href=\"#查看日志\" class=\"headerlink\" title=\"查看日志\"></a>查看日志</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 当前分支日志</span><br><span class=\"line\">git log</span><br><span class=\"line\"># 所有本地分支日志</span><br><span class=\"line\">git log --all</span><br><span class=\"line\"># 指定本地分支日志</span><br><span class=\"line\">git log &lt;branch_name&gt;</span><br><span class=\"line\"># 指定远程分支日志</span><br><span class=\"line\">git log origin/&lt;branch_name&gt;</span><br><span class=\"line\"># 所有远程分支日志</span><br><span class=\"line\">git log --all origin</span><br></pre></td></tr></table></figure>\n<h2 id=\"重命名分支\"><a href=\"#重命名分支\" class=\"headerlink\" title=\"重命名分支\"></a>重命名分支</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch (-m | -M) [&lt;old-branch&gt;] &lt;new-branch&gt;</span><br></pre></td></tr></table></figure>","categories":[{"name":"程序猿","path":"api/categories/程序猿.json"}],"tags":[{"name":"Git","path":"api/tags/Git.json"}]}