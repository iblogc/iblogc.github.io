{"name":"Virtualenv","postlist":[{"title":"使用Virtualenv创建独立的Python运行环境","slug":"使用virtualenv创建独立的python运行环境","date":"2015-01-01T12:39:14.000Z","updated":"2020-08-15T03:02:19.564Z","comments":true,"path":"api/articles/使用virtualenv创建独立的python运行环境.json","excerpt":"准备工作python环境pip安装1<br>pip install virtualenv<br>或<br>1<br>pip install https://github.com/pypa/virtualenv/tarball/develop<br>","cover":null,"content":"<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><ul>\n<li>python环境</li>\n<li>pip</li>\n</ul>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install virtualenv</span><br></pre></td></tr></table></figure>\n<p>或<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install https://github.com/pypa/virtualenv/tarball/develop</span><br></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<h2 id=\"创建虚拟环境\"><a href=\"#创建虚拟环境\" class=\"headerlink\" title=\"创建虚拟环境\"></a>创建虚拟环境</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtualenv myVE</span><br></pre></td></tr></table></figure>\n<p>指定python解释器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-p PYTHON_EXE, --python=PYTHON_EXE</span><br></pre></td></tr></table></figure>\n<p><em>创建虚拟环境时默认会自动安装setuptools和pip</em></p>\n<p>不安装setuptool</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--no--setuptools</span><br></pre></td></tr></table></figure>\n<p>不安装pip</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--no--pip</span><br></pre></td></tr></table></figure>\n<p><em>更多Options请参考<a href=\"https://virtualenv.pypa.io/en/latest/reference.html\" target=\"_blank\" rel=\"noopener\">官方文档</a></em> </p>\n<h2 id=\"启动虚拟环境\"><a href=\"#启动虚拟环境\" class=\"headerlink\" title=\"启动虚拟环境\"></a>启动虚拟环境</h2><p> Mac OS</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd myVE</span><br><span class=\"line\">source ./bin/activate</span><br></pre></td></tr></table></figure>\n<p>Windows</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd myVE</span><br><span class=\"line\">scripts\\activate</span><br></pre></td></tr></table></figure>\n<p>启动成功后可以在开头显示”(myVE)”，说明已经进入刚刚创建的虚拟环境了</p>\n<h2 id=\"退出\"><a href=\"#退出\" class=\"headerlink\" title=\"退出\"></a>退出</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deactivate</span><br></pre></td></tr></table></figure>\n<h2 id=\"virtualenvwrapper\"><a href=\"#virtualenvwrapper\" class=\"headerlink\" title=\"virtualenvwrapper\"></a>virtualenvwrapper</h2><h3 id=\"安装-1\"><a href=\"#安装-1\" class=\"headerlink\" title=\"安装\"></a>安装</h3><blockquote>\n<p>Virtaulenvwrapper是virtualenv的扩展包，用于更方便管理虚拟环境，它可以做：</p>\n<ol>\n<li>将所有虚拟环境整合在一个目录下</li>\n<li>管理（新增，删除，复制）虚拟环境</li>\n<li>切换虚拟环境</li>\n</ol>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install virtualenvwrapper</span><br></pre></td></tr></table></figure>\n<p>Windows下还需额外安装virtualenvwrapper-win<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install virtualenvwrapper-win</span><br></pre></td></tr></table></figure></p>\n<p>ubuntu需要将下面这句加入到<code>~/.bashrc</code>里面<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if [ -f /usr/local/bin/virtualenvwrapper.sh ]; then</span><br><span class=\"line\">    source /usr/local/bin/virtualenvwrapper.sh</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure></p>\n<p>加入后需要重启才能生效，如果想要立即生效，输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"常用命令\"><a href=\"#常用命令\" class=\"headerlink\" title=\"常用命令\"></a>常用命令</h3><p><em>部分命令在windows下无效</em></p>\n<ul>\n<li><code>workon myEnv</code>: 切换虚拟环境</li>\n<li><code>mkvirtualenv</code>: 新建工作环境</li>\n<li><code>rmvirtualenv</code>: 删除工作环境</li>\n<li><code>cdproject</code>: 切换到工程目录</li>\n<li><code>workon</code>/<code>lsvirtualenv</code>: 列出所有虚拟环境</li>\n<li><code>deactivate</code>: 退出虚拟环境</li>\n<li><code>cpvirtualenv [source] [dest]</code> 复制一份虚拟环境。</li>\n<li><code>cdvirtualenv [subdir]</code> 把当前工作目录设置为所在的环境目录。</li>\n<li><code>cdsitepackages [subdir]</code> 把当前工作目录设置为所在环境的sitepackages路径。</li>\n<li><code>add2virtualenv [dir] [dir]</code> 把指定的目录加入当前使用的环境的path中，这常使用于在多个project里面同时使用一个较大的库的情况。</li>\n<li><code>toggleglobalsitepackages -q</code> 控制当前的环境是否使用全局的sitepackages目录。</li>\n</ul>\n<hr>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p><a href=\"https://virtualenv.pypa.io/en/latest/\" target=\"_blank\" rel=\"noopener\">https://virtualenv.pypa.io/en/latest/</a></p>\n<p><a href=\"http://virtualenvwrapper.readthedocs.org/en/latest/\" target=\"_blank\" rel=\"noopener\">http://virtualenvwrapper.readthedocs.org/en/latest/</a></p>\n<p><a href=\"https://github.com/davidmarble/virtualenvwrapper-win\" target=\"_blank\" rel=\"noopener\">https://github.com/davidmarble/virtualenvwrapper-win</a></p>\n","raw":null,"categories":[{"name":"程序猿","path":"api/categories/程序猿.json"}],"tags":[{"name":"Python","path":"api/tags/Python.json"},{"name":"Virtualenv","path":"api/tags/Virtualenv.json"},{"name":"virtualenvwrapper","path":"api/tags/virtualenvwrapper.json"},{"name":"独立","path":"api/tags/独立.json"},{"name":"虚拟环境","path":"api/tags/虚拟环境.json"},{"name":"requirements","path":"api/tags/requirements.json"}]}]}