{"name":"权限","postlist":[{"title":"在macOS上更改Jenkins的默认用户，解决权限问题","slug":"在macos上更改jenkins默认用户解决权限问题","date":"2017-08-24T06:29:14.000Z","updated":"2020-01-17T07:58:33.377Z","comments":true,"path":"api/articles/在macos上更改jenkins默认用户解决权限问题.json","excerpt":"<br><br>","cover":null,"content":"<p><br><br><a id=\"more\"></a><br>在MacOS上使用<code>dmg</code>安装包安装完Jenkins之后，发了Jenkins自动在系统里新建了一个名为<code>jenkins</code>的用户。默认的，Jenkins程序里的自动化构建操作都是以这个用户身份来进行的，所以有时会出现一些权限问题，解决方法就是修改Jenkins配置文件，把Jenkins运行的默认账户改成平时用的账户。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">停止Jenkins</span></span><br><span class=\"line\">sudo launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 修改Group和User</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> &lt;用户名&gt;填写你的MacOS用户名，不知道的可以在命令行使用whoami查看，不需要尖括号</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> sudo vim +1 +/daemon +’s/daemon/staff/’ +/daemon +’s/daemon/&lt;用户名&gt; +wq org.jenkins-ci.plist</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 可能相应文件夹的权限</span></span><br><span class=\"line\">sudo chown -R &lt;用户名&gt;:staff /Users/Shared/Jenkins/</span><br><span class=\"line\">sudo chown -R &lt;用户名&gt;:staff /var/log/jenkins/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 启动Jenkins</span></span><br><span class=\"line\">sudo launchctl load /Library/LaunchDaemons/org.jenkins-ci.plist</span><br></pre></td></tr></table></figure>","raw":null,"categories":[{"name":"程序猿","path":"api/categories/程序猿.json"}],"tags":[{"name":"macOS","path":"api/tags/macOS.json"},{"name":"Jenkins","path":"api/tags/Jenkins.json"},{"name":"权限","path":"api/tags/权限.json"},{"name":"用户","path":"api/tags/用户.json"}]}]}